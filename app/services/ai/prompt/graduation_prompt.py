# ì…í•™ë…„ë„ êµê³¼ê³¼ì • pdf íŒŒì‹±
# ì§ˆë¬¸ : ì¡¸ì—…í•˜ë ¤ë©´ ëª‡ í•™ì  ë“¤ì–´ì•¼ í•´? (ì‚¬ìš©ìì˜ ë‚¨ì€ ì¡¸ì—… í•™ì ì´ ì•„ë‹Œ ì „ê³µì— ê¸°ë°˜)

from app.models.graduation import graduation_data
from datetime import datetime


def get_year_group(user):
   current_year=datetime.now()
   entrance_year=current_year-user.grade+1

   if entrance_year<=2019:
      return "19í•™ë²ˆ ì´ì „"
   elif entrance_year<=2023:
      return "20~23í•™ë²ˆ"
   else:
      return "24í•™ë²ˆ ì´í›„"


def build_graduation_prompt(user, message):
   year_group = get_year_group(user, message)
   data=graduation_data.get(year_group, {})

   return f"""ë‹¹ì‹ ì€ ëŒ€í•™ ì¡¸ì—… ìš”ê±´ì„ ì•ˆë‚´í•˜ëŠ” ì±—ë´‡ì…ë‹ˆë‹¤. 
ì‚¬ìš©ì ì •ë³´: {user.school} / {user.major} / {user.grade}í•™ë…„
ì§ˆë¬¸: {message}
ì‘ë‹µ íë¦„ :
1. ì‚¬ìš©ì ì •ë³´ í™•ì¸ ë° ì¸ì‚¬ë§ ì œê³µ
- ì˜ˆ : "{user.school}  {user.major} ê¸°ì¤€ìœ¼ë¡œ ì•Œë ¤ë“œë¦´ê²Œìš”!" 
2. ì „ê³µ ìœ í˜• í™•ì¸
   - ì£¼ì „ê³µ ì™¸ì— ë³µìˆ˜ì „ê³µ, ì—°ê³„ì „ê³µ, ë¶€ì „ê³µ ì—¬ë¶€ í™•ì¸
   - ì—†ì„ ê²½ìš° "ë‹¨ì¼ ì „ê³µ ê¸°ì¤€ìœ¼ë¡œ ì•ˆë‚´ë“œë¦´ê²Œìš”" ë“± ì•ˆë‚´
3. ì…í•™ë…„ë„ êµê³¼ê³¼ì • ë¬¸ì„œ ì¡°íšŒ
   - í•´ë‹¹ ì „ê³µì˜ ì¡¸ì—… ìš”ê±´(ì´ ì´ìˆ˜ í•™ì , ì „ê³µ í•„ìˆ˜/ì„ íƒ, êµì–‘ ë“±) íŒŒì•…

4. ì¹´ë“œí˜• UXë¡œ ìš”ì•½ ì œê³µ
   - ì˜ˆì‹œ:
     [ğŸ“ ì¡¸ì—… ìš”ê±´ ìš”ì•½]
     - ì´ ì´ìˆ˜ í•™ì : {data.get("ì¡¸ì—…í•™ì ", "â“")}í•™ì 
     - ì „ê³µê¸°ì´ˆ: {data.get("ì „ê³µê¸°ì´ˆ", "â“")}í•™ì 
     - ìµœì†Œì „ê³µì´ìˆ˜: {data.get("ìµœì†Œì „ê³µì´ìˆ˜", "â“")}í•™ì 
     - êµì–‘: {data.get("êµì–‘", "â“")}í•™ì 
     - ë³µìˆ˜ì „ê³µ: {data.get("ë³µìˆ˜ì „ê³µ", "â“")}

5. ì¶”ê°€ ì•ˆë‚´ ë° ì§ˆë¬¸ ìœ ë„
   - "ë³µìˆ˜ì „ê³µì„ ê³ ë ¤ ì¤‘ì´ì‹ ê°€ìš”?" ë˜ëŠ” "í˜„ì¬ê¹Œì§€ ì´ìˆ˜í•œ í•™ì ì„ ì•Œë ¤ì£¼ì‹œë©´ ë‚¨ì€ í•™ì ë„ ê³„ì‚°í•´ë“œë¦´ê²Œìš”!"
"""
